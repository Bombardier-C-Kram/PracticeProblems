<!doctype html>
<html>
	<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<link rel="icon" href="/img/favicon.png" sizes="64x64">
	<title>
	
	
	Selecting from Arrays - Learn Dyalog APL
	
	</title>
	<script>
	window.MathJax = {
		tex: {inlineMath: [["@@", "@@"]],displayMath: [["%%","%%"]]},
		svg: {fontCache: 'global'}
	};
	</script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/alerts.css">
	<link rel="stylesheet" href="/css/hints.css">
	<link rel="stylesheet" href="/css/print.css">
</head>
<body>
    <div>	
		<div id="navbar">
    <script>        
        window.onload = function(){
            let p = document.querySelectorAll(".problem");p[0].style.display = "block";
            let b = document.querySelectorAll(".pbutton");b[0].classList.add("active");
            b.forEach(fn=btn=>{
                btn.innerHTML = btn.innerHTML.trim().replace(/^P/, "").replace(/^\d/,"$&:").split("_").join(" ");
            });
            p.forEach(fn=pbm=>{
                let pdiv = document.createElement("div");   
                let pi = document.createElement("input");
                pi.id = pbm.id + "_Input";                             
                let sub = document.createElement("button");
                sub.onclick = function(){
                    submitSolution(pbm.id);
                }
                sub.innerHTML = "Submit";
                let odiv = document.createElement("div")
                odiv.id = pbm.id + "_Output";
                pbm.append(pi);
                pbm.append(sub);
                pbm.append(odiv);
                pbm.append(pdiv);                
            });
            loadTestCases("Selecting from Arrays");
        }
        function show(id) {
            let p = document.querySelectorAll(".problem");
            let b = document.querySelectorAll(".pbutton");
            for (let i=0; i<p.length; i++){                
                if (id == p[i].id) {
                    p[i].style.display = "block";
                    b[i].classList.add("active");
                    console.log(b[i]);
                } else {
                    p[i].style.display = "none";
                    b[i].classList.remove("active");
                }
            }
        }
    </script>
	<a id="back" href="/">Home</a>
	<br>
    
    
        
            <br><a href="/psets/2020.html">2020</a>
        
    
        
            <br><a href="/psets/2019.html">2019</a>
        
    
        
            <br><a href="/psets/2018.html">2018</a>
        
    
        
            <br><a href="/psets/2017.html">2017</a>
        
    
    
    
</div>

    </div>
    <div>Some contente efuhskeff</div>
	<div class="course-content">
	<h3 id="indexing">Indexing</h3>

<p>The examples below demonstrate some unfamiliar constructs. Take some time to execute, modify and experiment with the examples until you feel you have an understanding of what each expression does.</p>

<pre><code class="language-APL">      3{(⍺-1)↓⍳⍵}7

      n←4 2 2⍴2,(4/1),(4/2),1 2 1 2 2 1 1
      n⍳2 2⍴2 1
      3⌷n
      3 2 1⌷n

      rain←?7 5 12⍴250   ⍝ Monthly rainfall in millimeters over 7 years for 5 countries
      rain[1 3 4;;]
      rain[;1;]

      ¯2 2(↑⍤2)alph
      alph[;2 3;1 2]
      ¯2 1(↑⍤2)alph
      alph[;2 3;1]

      ({(⊂⍒⍵)⌷⍵}⍤1)3 3⍴⍳9
      ({(⊂⍒⍵)⌷⍵}⍤2)3 3⍴⍳9
      {(⊂⍋⍤1⊢⍵)⌷⍵}3 3⍴⍳9

      scores←?3 5⍴10
      ids←⎕A[3 5⍴15?26]      
      {(⊂⍋⍵)⌷⍵}ids,¨scores
      {(⊂⍋⍵)⌷⍵}scores,¨ids
      scores{(⊃⍋⍺)⌷⍵}ids,¨scores
</code></pre>

<h3 id="take--drop">Take / Drop</h3>

<p>###</p>

<h3 id="problems">Problems</h3>

<ol>
  <li>
    <p>Grille Cypher<br />
 A Grille is a cryptographic device consisting of a square sheet with holes cut out which, when laid on top of a similarly-sized character matrix, reveals a hidden message (see figure 1).</p>

    <div align="center">
     <figure>
         <img src="/img/grille.png" alt="A grille and grid cypher" width="50%" />
         <figcaption>Figure 1. A grille and grid cypher</figcaption>
     </figure>
 </div>
    <p>Write an APL function <code class="language-plaintext highlighter-rouge">Grille</code> that implements an electronic version of a grille which:</p>
    <ul>
      <li>takes a character matrix left argument, where a hash <code class="language-plaintext highlighter-rouge">'#'</code> represents opaque material and a space <code class="language-plaintext highlighter-rouge">' '</code>represents a hole.</li>
      <li>takes a similarly-shaped character matrix right argumentcontaining the message.</li>
      <li>returns the hidden message as a character vector.</li>
    </ul>

    <p>Example:</p>

    <pre><code class="language-APL">       grid←6 6⍴'ESVWGTHOWTHZHIVSAICASSACFAAUCMNYMPCE'
       grille←6 6⍴'##### #### ## # # ## ### ## ## #####'
       grille grid
 ┌──────┬──────┐
 │##### │ESVWGT│
 │#### #│HOWTHZ│
 │# # # │HIVSAI│
 │## ###│CASSAC│
 │ ## ##│FAAUCM│
 │ #####│NYMPCE│
 └──────┴──────┘
       grille Grille grid
 THISISFUN
</code></pre>
  </li>
  <li>
    <p>Write a function <code class="language-plaintext highlighter-rouge">InRange</code> to select numbers from an array <code class="language-plaintext highlighter-rouge">⍵</code> which are within the range specified by a two-element vector <code class="language-plaintext highlighter-rouge">⍺</code>.</p>
  </li>
</ol>

<pre><code class="language-APL">      2 6 InRange 3 4⍴1 3 8 6 2 5 5 8 4 10 9 10
3 6 2 5 5 4
</code></pre>

<ol>
  <li>
    <p>Bar chart
 Histograms are useful for representing frequency data. Before all the fancy charting applications of today, APL was quite adept at producing graphics from text.</p>

    <p>Write a function Histogram which produces a histogram from a vector of frequencies using the <code class="language-plaintext highlighter-rouge">.</code> and <code class="language-plaintext highlighter-rouge">⎕</code> characters.</p>

    <p>Example:</p>

    <pre><code class="language-APL">       Histogram 3 1 4 1 5 9
 ⎕⎕⎕......
 ⎕........
 ⎕⎕⎕⎕.....
 ⎕........
 ⎕⎕⎕⎕⎕....
 ⎕⎕⎕⎕⎕⎕⎕⎕⎕
</code></pre>
  </li>
  <li>
    <p>Checkout Sum<br />
 In a shop, each product is identified by a code. You are given the list of codes, and the corresponding prices:</p>

    <pre><code class="language-APL">       pcodes←56 66 19 37 44 20 18 23 68 70 82
       prices←9 27 10 15 12 5 8 9 98 7 22
</code></pre>

    <p>A customer gives you a list of items he intends to buy as a vector of code/quanitity pairs in the form <code class="language-plaintext highlighter-rouge">code,quantity, code,quantity, ...</code></p>

    <pre><code class="language-APL">       wanabuy←37 1 70 20 19 2 82 5 23 10
</code></pre>

    <p>Write a function <code class="language-plaintext highlighter-rouge">Evaluate</code> which takes a left argument nested vector <code class="language-plaintext highlighter-rouge">(pcodes prices)</code>, a right argument integer vector <code class="language-plaintext highlighter-rouge">wanabuy</code> and returns the customer’s bill. You will likely want to solve this using several lines of APL.</p>

    <pre><code class="language-APL">       (pcodes prices) Evaluate wanabuy
 375
</code></pre>
  </li>
  <li>
    <p>Monthly Sales
 You are given a vector of sales data for <code class="language-plaintext highlighter-rouge">5</code> products over <code class="language-plaintext highlighter-rouge">2</code> years. The first <code class="language-plaintext highlighter-rouge">12</code> elements are sale for the first product for the first year, the second <code class="language-plaintext highlighter-rouge">12</code> elements represent sales of the 2nd product in the first year, and so on.</p>

    <pre><code class="language-APL"> sales←156 287 180 261 242 102 244 211 286 152 127 38 78 67 101 181 78 78 110 287 250 84 246 268 55 32 87 254 198 252 298 231 102 215 60 196 122 56 194 58 161 177 143 184 280 208 89 10 18 70 212 195 174 176 285 1 159 208 92 223
</code></pre>

    <ol>
      <li>Compute the total sales of each of the <code class="language-plaintext highlighter-rouge">5</code> products.</li>
      <li>Compute the total sales for each year</li>
      <li>
        <p>The tax on sales varies by product, and changes each year. The tax for each product for each year is given in Table 1.</p>

        <table>
          <thead>
            <tr>
              <th> </th>
              <th> </th>
              <th> </th>
              <th> </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td> </td>
              <td><strong>Product 1</strong></td>
              <td><strong>Product 2</strong></td>
              <td><strong>Product 3</strong></td>
            </tr>
            <tr>
              <td><strong>Year 1</strong></td>
              <td>20%</td>
              <td>18%</td>
              <td>5%</td>
            </tr>
            <tr>
              <td><strong>Year 2</strong></td>
              <td>17.5%</td>
              <td>12%</td>
              <td>3%</td>
            </tr>
          </tbody>
        </table>

        <ol>
          <li>Compute the total tax on product 3 over 2 years</li>
          <li>Compute the total tax on all products in year 2</li>
        </ol>
      </li>
    </ol>
  </li>
  <li>
    <p>じゃんけん (Janken)
In a rock-paper-scissors tournament, 5 players play 4 games each round (once against each other player) for 3 rounds.</p>
  </li>
</ol>

<pre><code class="language-APL">      ids←'ABCDE'
      scores←5 3⍴2 3 1 2 1 2 1 2 2 3 2 4 2 2 1
</code></pre>

<ol>
  <li>Write a function <code class="language-plaintext highlighter-rouge">TopScores</code> whose right argument <code class="language-plaintext highlighter-rouge">⍵</code> is a matrix with with <code class="language-plaintext highlighter-rouge">≢⍺</code> rows, which returns the IDs of players with the highest score for each round.</li>
</ol>

<pre><code class="language-APL">      ids TopScore scores
DAD
</code></pre>

<ol>
  <li>First-axis Membership</li>
</ol>

	</div>
</body>
</html>
